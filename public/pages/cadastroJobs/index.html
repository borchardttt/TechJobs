<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TechJobs - Home</title>
    <!-- Bootstrap 5 CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/public/css/style.css">
</head>
<body>
	<div class="sidebar d-none d-md-block">
    <button id="sidebar-toggler" class="btn-sm btn">
      <i class="fa fa-bars bg-light" aria-hidden="true"></i>
    </button>
		<div class="user-profile">
			<img src="/public/img/eu.jfif" alt="User profile">
			<h5 class="user-name d-none" id="nome-user">Gabriel Borchardt</h5>
		</div>
		<ul class="nav flex-column">
			<li class="nav-item">
				<a class="nav-link active fa fa-home" id="home" href="/home"></a>
			</li>
			<li class="nav-item">
				<a class="nav-link fa fa-user fa-x" id="editUser" href="/edit-user"></a>
			</li>
			<li class="nav-item">
				<a class="nav-link fa fa-suitcase" id="jobs" href="/home"></a>
			</li>
      <li class="nav-item">
				<a class="nav-link fa fa-plus" id="jobs-register" href="/cadastro-vagas"></a>
			</li>
			<li class="nav-item">
				<a class="nav-link fa fa-sign-out" id="logout" href="/login"></a>
			</li>
		</ul>
	</div>
	<div class="main-content">
		<h1 class="text-center">TechJobs</h1>
		<div class="container">
			<div class="row justify-content-center">
        <form id="vagaForm">
          <div class="form-group">
            <label for="vagaNome">Nome da vaga:</label>
            <input type="text" class="form-control" id="vagaNome" name="vagaNome" required>
          </div>
          <div class="form-group">
            <label for="vagaDescricao">Descrição:</label>
            <textarea class="form-control" id="vagaDescricao" name="vagaDescricao" rows="3" required></textarea>
          </div>
          <div class="form-group">
            <label for="vagaRequisitos">Requisitos:</label>
            <textarea class="form-control" id="vagaRequisitos" name="vagaRequisitos" rows="3" required></textarea>
          </div>          
          <br>
          <button type="submit" class="btn btn-primary">Cadastrar vaga</button>
        </form>
        
			</div>
		</div>
	</div>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert@2"></script>
	<script src="/public/js/cadastro-jobs.js"></script>
  <script>
    $(document).ready(function() {
      let sidebarExpanded = false;
      let sidebarWidth = $('.sidebar').css('width');
    
      $('#sidebar-toggler').click(function() {
        sidebarExpanded = !sidebarExpanded;
    
        if (sidebarExpanded) {
          $('.sidebar').animate({ width: '200px' }, 700);
          $('.user-profile img').animate({width: '120px'},500);
          $('.user-profile').css('align-items', 'center');
          $('.nav-item a').css('font-size', '1rem');
          $("#home").prepend("<a class='home-link'> Home </a>");
          $("#editUser").prepend("<a class='edit-user'> Perfil </a>");
          $("#jobs").prepend("<a class='vagas'> Vagas </a>");
          $("#jobs-register").prepend("<a class='vagas'> Cadastrar </a>");
          $("#logout").prepend("<a class='logout'> Logout </a>");
          $('#nome-user').removeClass('d-none');
          $('#sidebar-toggler i').addClass('fa-times');
        } else {
          $('.sidebar').animate({width: sidebarWidth}, 900);
          $('.user-profile img').animate({width: '50px'},700).css('height', '100%');
          $('#nome-user').addClass('d-none');
          $('.nav-item a').css('font-size', '0.9rem');
          $(".edit-user").remove();
          $(".home-link").remove();
          $(".vagas").remove();
          $(".logout").remove();
    
        }
      });
    });
    const username = sessionStorage.getItem("username");
    document.getElementById("nome-user").textContent = username;
    </script>
</body>
</html>